<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.hiddenlayer.dalabel.dolabeling.DataDoLabelingMapper">
	<insert id="addLabelData"
		parameterType="com.hiddenlayer.dalabel.dolabeling.LabelData">
		<![CDATA[
			insert into Labeling_Done
			values (#{project_no}, #{data_no}, #{worked_by}, #{label})
		]]>
	</insert>
	<insert id="addLabelDoList"
		parameterType="com.hiddenlayer.dalabel.dolabeling.LabelDoList">
		<![CDATA[
			insert into Labeling_Do
			values (#{dolabel_user}, #{dolable_project_no}, #{dolabel_state}, #{dolabel_score})
		]]>
	</insert>
	<select id="findLabelDoList"
		resultType="com.hiddenlayer.dalabel.dolabeling.LabelDoList">
		<![CDATA[
			select dolabel_user, dolabel_project_no, dolabel_state, dolabel_score from
				(select dolabel_user, dolabel_project_no, dolabel_state, dolabel_score, rownum as rn 
				from Labeling_Do
				where dolabel_user=#{userid})
			where rn>=#{start} and rn<=#{end}
		]]>
	</select>
	<select id="getJoinProjectCount" resultType="java.lang.Integer">
		<![CDATA[
			select count(*) from Labeling_Do
			where dolabel_user=#{userid}
		]]>
	</select>
	<update id="updateLabelState"
		parameterType="com.hiddenlayer.dalabel.dolabeling.LabelDoList">
		<![CDATA[
			update Labeling_Do
			set dolabel_state=#{dolabel_state}
			where dolabel_user=#{dolabel_user} and dolable_project_no=#{dolable_project_no}
		]]>
	</update>

</mapper>