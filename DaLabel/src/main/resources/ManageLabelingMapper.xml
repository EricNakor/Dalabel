<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.hiddenlayer.dalabel.manageLabeling.ManageLabelingMapper">
	<insert id="regLabelingProject"
		parameterType="com.hiddenlayer.dalabel.manageLabeling.LabelingProject">
		<![CDATA[
		insert into labeling_project values(labeling_project_seq.nextval, #{project_title}, #{project_requestor}, 0, #{project_guide}, #{project_how}, '[버튼1 : 개, 버튼2 : 고양이]', 0, #{project_bundle_no})
	]]>
	</insert>

	<select id="getMyLabelingProject"
		parameterType="com.hiddenlayer.dalabel.manageBundle.ManageSelector"
		resultType="com.hiddenlayer.dalabel.manageLabeling.LabelingProject">
		<![CDATA[
		select *
		from (
			select rownum as rn, project_no, project_title, project_access_level, project_progress
			from (
				select project_no, project_title, project_access_level, project_progress from labeling_project
				where project_requestor = #{login_user}
			)
		)
		where rn >= #{start} and rn <= #{end}
	]]>
	</select>

	<select id="getMyDetaillabelingProject"
		parameterType="java.lang.Integer"
		resultType="com.hiddenlayer.dalabel.manageLabeling.LabelingProject">
		<![CDATA[
			select * from labeling_project where project_no = #{project_no}
		]]>
	</select>


	<select id="getAllMyProjectCount"
		parameterType="java.lang.String" resultType="java.lang.Integer">
		<![CDATA[
			select count(*) from labeling_project
			where project_requestor = #{login_user}
		]]>
	</select>

	<update id="updateProjectAccessLevel"
		parameterType="com.hiddenlayer.dalabel.manageLabeling.LabelingProject">
		<![CDATA[
			update labeling_project set project_access_level = #{project_access_level}
			where project_no = #{project_no}
		]]>
	</update>
	
	

</mapper>